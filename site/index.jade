mixin field-label(name, label)
  - var label = label || name
  label(for=name) #{label}

mixin field-input(type, name, label)
  .field
    +field-label(name, label)
    input(type=type, id=name, name=name, value=value)
    block

mixin field-text(name, label)
  +field-input('text', name, label)
    block

html
  head
    title Fishing line experiment calculator
    link(rel='stylesheet', href='app.css')
    script(src='lib-3p/ASCIIMathML.js')
    script(src='lib-3p/zepto.min.js')
    script(src='lib-3p/query-string.js')
body
  :md
    # Fishing Line Experiment Calculator
    The source code is freely [available on GitHub.com](https://github.com/dizzib/flx-calc)

    To view this page properly please use a browser that supports
    [MathML](https://www.w3.org/Math/) such as Firefox.
  form
    +field-text('rho_w', 'water density `rho_w` = ')
      span kg per `m^3`. 
      span This is a function of temperature and may need to be determined experimentally.
    +field-text('l_s', 'sample line length `l_s` = ')
      span m. The length of unstretched line used to calculate the line density 
      span (for accuracy this should be at least `l`).
    +field-text('m_s', 'sample line mass `m_s` = ')
      span g. The mass of the sample (in air).
    //+field-text('rho_l', 'line density `rho_l` = ')
    //  span kg per `m^3`. Needs to be determined experimentally.
    +field-text('d', 'unstretched line diameter `d` = ')
      span mm. Can be measured very accurately with a 
      a(href='http://www.physics.smu.edu/~scalise/apparatus/micrometer') micrometer
      span . Diverse positions along the line should be measured and the average taken.
    +field-text('l', 'pole span `l` = ')
      span m. The distance between the two poles (depth meters at each end).
    +field-text('l_i', 'indicator line length `l_i` = ')
      span m. The unstretched line length from the anchor to the stretch indicator 
      span (should be greater than `l`).
    +field-text('T_max', 'maximum line tension `T_max` = ')
      span N
    +field-text('dl_i', 'line stretch `Delta l_i` = ')
      span m. The measured amount of line stretch when under full tension `T_max`
    +field-text('nu', 'line Poisson ratio `nu` = ')
      span This determines how much the diameter changes when tension is applied.

  script(type='text/javascript', src='app.js')
